{
  "run_name": "h1_cross_condition_pairs",
  "battery": "lab/configs/battery_h1_pairs_layer0.json",
  "shared": {
    "seeds": [0],
    "device": "mps",
    "model": {
      "family": "gpt2",
      "name": "gpt2-medium",
      "dtype": "float16"
    },
    "dataset": {
      "id": "facts_single_token_v1_balanced",
      "split": "train",
      "clean_field": "clean",
      "corrupt_field": "corrupt",
      "target_field": "target",
      "foil_field": "foil"
    },
    "metrics": ["logit_diff", "acc_flip_rate"],
    "batch_size": 8,
    "max_seq_len": 256
  },
  "conditions": [
    {
      "tag": "facts",
      "dataset": {
        "id": "facts_single_token_v1_balanced",
        "split": "train"
      },
      "battery_overrides": {
        "pairs": [
          {"layer": 0, "h1": 2, "h2": 4},
          {"layer": 0, "h1": 2, "h2": 7},
          {"layer": 0, "h1": 2, "h2": 15}
        ]
      }
    },
    {
      "tag": "neg",
      "dataset": {
        "id": "negation_single_token_v1_balanced",
        "split": "train"
      },
      "battery_overrides": {
        "pairs": [
          {"layer": 0, "h1": 2, "h2": 4},
          {"layer": 0, "h1": 2, "h2": 7},
          {"layer": 0, "h1": 2, "h2": 9}
        ]
      }
    }
  ]
}
